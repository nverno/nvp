# -*- mode: snippet -*-
# name: 2d prefix sum
# key: d_ps2
# --
vector<vector<int>> ps(${1:n}+1, vector<int>($1+1));
for (int i = 1; i <= n; ++i) {
    for (int j = 1; j <= n; ++j) {
        ps[i][j] = ps[i-1][j] + ps[i][j-1] - ps[i-1][j-1] + ${2:(mat[i-1][j-1] == 1)};
    }
}
// sum rectangle x1,y1,x2,y2 (1-indexed)
// int v = ps[x2][y2] + ps[x1-1][y1-1] - ps[x2][y1-1] - ps[x1-1][y2];